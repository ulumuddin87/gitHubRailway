{% extends 'base.html' %}
{% block title %}Riwayat Nilai Murid{% endblock %}

{% block content %}
<div class="card shadow-sm">
  <div class="card-header bg-primary text-white">
    <h5 class="mb-0">Riwayat Nilai - {{ murid.nama }}</h5>
  </div>
  <div class="card-body">
    <ul>
      <li><b>Nama:</b> {{ murid.nama }}</li>
      <li><b>Kelas:</b> {{ murid.kelas }}</li>
      <li><b>Wali Kelas:</b> {{ murid.wali_kelas }}</li>
    </ul>

    {% if riwayat %}
    <table class="table table-bordered mt-3">
      <thead class="table-light">
        <tr>
          <th>No</th>
          <th>Semester</th>
          <th>Tahun Ajaran</th>
          <th>Mata Pelajaran</th>
          <th>Nilai</th>
          <th>Deskripsi</th>
          <th>Tanggal Input</th>
        </tr>
      </thead>
      <tbody>
        {% for r in riwayat %}
        <tr>
          <td>{{ loop.index }}</td>
          <td>{{ r.semester }}</td>
          <td>{{ r.tahun_ajaran }}</td>
          <td>{{ r.mapel_nama }}</td>
          <td>{{ r.nilai }}</td>
          <td>{{ r.diskripsi }}</td>
          <td>{{ r.created_at.strftime('%d-%m-%Y') if r.created_at else '-' }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% else %}
      <p class="text-muted mt-3">Belum ada nilai yang diinput untuk murid ini.</p>
    {% endif %}

    <a href="{{ url_for('data_murid') }}" class="btn btn-secondary mt-3">â¬… Kembali</a>
  </div>
</div>
{% endblock %}
